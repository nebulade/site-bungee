<html>
<head>
    <title> Bungee.js </title>

    <link rel="Stylesheet" href="main.css"/>

    <script type="text/javascript" src="bungee.js"></script>

    <script type="text/jml" module="main">

        Tab @ Item {
            backgroundColor: this.parent.color
            opacity: this.modelData / this.parent.count
            width: this.parent.width - 20
            left: 10
            height: 30
            tmpPos: (this.modelData * this.parent.height / this.parent.count) / this.parent.height;
            top: this.parent.mouseAbsY * this.tmpPos;

            Behavior {
                top: "500ms cubic-bezier(0.175, 0.885, 0.320, 1.275)"
            }
        }

        Expander @ InputItem {
            top: 0
            left: 10
            width: 100
            height: this.parent.height
            tabDelegate: Tab;
            count: 10
            startPos: 0

            onload: ^{
                var that = this
                for (var i = 0; i < this.count; ++i) {
                    var child = this.createtabDelegate();
                    child.modelData = i;
                    this.addChild(child);
                    child.initializeBindings();
                }

                window.setTimeout(function() {
                    that.mouseAbsY = that.startPos;
                }, 1000);
            }^
        }

        Window {
            top: -50
            left: this.innerWidth - this.width
            width: 500
            height: this.innerHeight

            Expander {
                left: 0
                color: "#41DF22"
                startPos: 420
            }

            Expander {
                left: 100
                color: "#36A7DF"
                startPos: 600
            }

            Expander {
                left: 200
                color: "#DF2F9C"
                startPos: 350
            }

            Expander {
                left: 300
                color: "yellow"
                startPos: 460
            }
        }

        Content @ Item {
            width: 700
            height: window.innerHeight - 100
            top: 70
            left: -(this.width + this.margin)
            margin: 10
            text: ""

            Text {
                id: content
                width: this.parent.width
                fontFamily: "'Maven Pro',Arial,Helvetica,sans-serif"
                fontWeight: 300
                fontSize: "18px"
                color: "white"
                text: this.parent.text
            }

            Behavior {
                left: "500ms cubic-bezier(0.175, 0.885, 0.320, 1.275)"
            }
        }

        Content {
            id: containerIntroduction
            text: document.getElementById('contentIntroduction').innerHTML
        }

        Content {
            id: containerLearn
            text: document.getElementById('contentLearn').innerHTML
        }

        Content {
            id: containerDocumentation
            text: document.getElementById('contentDocumentation').innerHTML
        }

        // Content {
        //     id: containerAbout
        //     text: document.getElementById('contentAbout').innerHTML
        // }

        Link @ InputItem {
            label: ""
            width: this.textItem.width
            height: this.textItem.height
            cursor: "pointer"
            backgroundColor: this.containsMouse ? "#36A7DF" : "transparent"

            Behavior {
                background-color: "250ms"
            }

            Text {
                id: textItem
                text: this.parent.label
                fontFamily: "'Maven Pro',Arial,Helvetica,sans-serif"
                fontWeight: 300
                fontSize: "18px"
                color: this.parent.mousePressed ? "#41DF22" : (this.parent.containsMouse ? "black" : "#36A7DF")
            }
        }

        Item {
            top: 50
            left: 20
            width: this.childrenWidth
            height: this.childrenHeight

            Link {
                id: link0
                left: 0
                label: "Introduction"
                onactivated: showContent('containerIntroduction');
            }

            Link {
                id: link1
                left: this.link0.width + this.link0.left + 10
                label: "Learn"
                onactivated: showContent('containerLearn');
            }

            Link {
                id: link2
                left: this.link1.width + this.link1.left + 10
                label: "Documentation"
                onactivated: showContent('containerDocumentation');
            }

            Link {
                id: link3
                left: this.link2.width + this.link2.left + 10
                label: "Source"
                onactivated: window.location.href = "https://github.com/nebulon1234/bungee"
            }

            // Link {
            //     id: link4
            //     left: this.link3.width + this.link3.left + 10
            //     label: "About"
            //     onactivated: showContent('containerAbout');
            // }
        }

    </script>

    <script type="text/javascript" src="syntaxhighlighter_3.0.83/scripts/shCore.js"></script>
    <script type="text/javascript" src="syntaxhighlighter_3.0.83/scripts/shBrushJScript.js"></script>
    <script type="text/javascript" src="syntaxhighlighter_3.0.83/scripts/shBrushXml.js"></script>
    <link type="text/css" rel="stylesheet" href="syntaxhighlighter_3.0.83/styles/shThemeRDark.css"/>

    <script type="text/javascript">

        SyntaxHighlighter.defaults['gutter'] = false;
        SyntaxHighlighter.defaults['toolbar'] = false;
        SyntaxHighlighter.all();

        window.app = {};
        window.app.currentContent = undefined;

        function init() {
            Bungee.run();
            app.ui = Bungee.main();

            window.setTimeout(function () {
                showContent('containerIntroduction');
            }, 500);
        }

        function showContent(id) {
            if (app.currentContent) {
                app.currentContent.left = -1000;
            }

            app.currentContent = app.ui[id];
            app.currentContent.left = 10;
        }

    </script>

</head>

<body onload="init();">

    <h1>bungee.js</h2>

    <!-- Content area, this is not visible like this, acts as a template -->
    <div class="hidden">
        <div id="contentIntroduction">
            <h2> Introduction </h2>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue. Nam tincidunt congue enim, ut porta lorem lacinia consectetur. Donec ut libero sed arcu vehicula ultricies a non tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ut gravida lorem. Ut turpis felis, pulvinar a semper sed, adipiscing id dolor. Pellentesque auctor nisi id magna consequat sagittis. Curabitur dapibus enim sit amet elit pharetra tincidunt feugiat nisl imperdiet. Ut convallis libero in urna ultrices accumsan. Donec sed odio eros. Donec viverra mi quis quam pulvinar at malesuada arcu rhoncus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. In rutrum accumsan ultricies. Mauris vitae nisi at sem facilisis semper ac in est.
        </div>

        <div id="contentLearn">
            <h2> Getting Started </h2>
            Online compilation. Include bungee.js into your website and initialize all script tags of type "text/jml".
            <pre class="brush: html; class-name: 'highlighterAdjustment'">
                    &lt;script type="text/javascript" src="bungee.js">&lt;/script>
                    ...
                    &lt;script type="text/jml">
                        Item {
                        }
                    &lt;/script>
                    ...
                    &lt;body onload="Bungee.run();">
            </pre>

            Simple green rectangle example:
            <pre class="brush: js; class-name: 'highlighterAdjustment'">
                Item {
                    width: 100
                    height: 50
                    backgroundColor: "green"
                }
            </pre>
        </div>

        <div id="contentDocumentation">
            <h2> Documentation </h2>
            In progress...
        </div>

<!--         <div id="contentAbout">
            <h2> About </h2>
            Lorem ipsum dolor sit amet, consectetur adipiscing elit. Donec a diam lectus. Sed sit amet ipsum mauris. Maecenas congue ligula ac quam viverra nec consectetur ante hendrerit. Donec et mollis dolor. Praesent et diam eget libero egestas mattis sit amet vitae augue. Nam tincidunt congue enim, ut porta lorem lacinia consectetur. Donec ut libero sed arcu vehicula ultricies a non tortor. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean ut gravida lorem. Ut turpis felis, pulvinar a semper sed, adipiscing id dolor. Pellentesque auctor nisi id magna consequat sagittis. Curabitur dapibus enim sit amet elit pharetra tincidunt feugiat nisl imperdiet. Ut convallis libero in urna ultrices accumsan. Donec sed odio eros. Donec viverra mi quis quam pulvinar at malesuada arcu rhoncus. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. In rutrum accumsan ultricies. Mauris vitae nisi at sem facilisis semper ac in est.
        </div> -->
    </div>

    <footer>
        bungee.js is a project developed by <a href="https://github.com/nebulon1234">Johannes Zellner</a> 2013.<br/>
        Code licensed under the <a href="https://github.com/nebulon1234/bungee/blob/master/LICENSE">The MIT License</a>. Documentation licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.
    </footer>

</body>
</html>
